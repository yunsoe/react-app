{"ast":null,"code":"var _jsxFileName = \"/Users/waddy/Desktop/SMU/Internships/my-app/react-app/my-app/src/components/questions/displayTable.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport Table from './Table.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass DisplayTable extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = () => {\n      console.log(\"Inside Display Table :\", this.props.answer);\n      this.fetchData();\n    };\n\n    this.fetchData = async () => {\n      let url = 'http://127.0.0.1:8000/optimizer/?Q1=' + this.props.answer[0] + '&Q2=' + this.props.answer[1] + '&Q3=' + this.props.answer[2] + '&Q4=' + this.props.answer[3] + '&Q5=' + this.props.answer[4] + '&Q6=' + this.props.answer[5] + '&data_source=saved';\n      await axios.get(url).then(res => {\n        console.log(res);\n        let data = res.data;\n        let maxsharpedata = [];\n        let targetvoldata = [];\n        let targetreturndata = [];\n\n        for (let i = 0; i < data.length; i++) {\n          data[i].asset_name = data[i].asset_name + ' (' + data[i].asset_ticker + ')';\n          data[i].annualized_return = data[i].annualized_return * 100;\n          data[i].annualized_vol = data[i].annualized_vol * 100;\n\n          if (data[i].Portfolio === 'Max Sharpe') {\n            maxsharpedata.push(data[i]);\n          } else if (data[i].Portfolio === 'Target Vol') {\n            targetvoldata.push(data[[i]]);\n          } else {\n            targetreturndata.push(data[i]);\n          }\n        }\n\n        this.setState({\n          maxSharpeTableData: maxsharpedata,\n          targetVolTableData: targetvoldata,\n          targetReturnTableData: targetreturndata\n        });\n      }).catch(e => {\n        console.log(e);\n      });\n    };\n\n    this.state = {\n      answer: this.props.answer,\n      maxSharpeTableData: [],\n      targetVolTableData: [],\n      targetReturnTableData: [],\n      columns: [{\n        heading: 'ETF',\n        value: 'asset_name'\n      }, {\n        heading: 'Annualized Return (%)',\n        value: 'annualized_return'\n      }, {\n        heading: 'Annualized Volatility (%)',\n        value: 'annualized_vol'\n      }, {\n        heading: 'Sharp Ratio',\n        value: 'sharpe_ratio'\n      }, {\n        heading: 'Allocation (%)',\n        value: 'allocation'\n      }]\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"centre\",\n        children: \"Here's your final portfolio\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"The following allocation best suits you!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this), this.state.maxSharpeTableData.length > 0 && /*#__PURE__*/_jsxDEV(Table, {\n        data: this.state.maxSharpeTableData,\n        column: this.state.columns,\n        type: \"Max Sharpe\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 21\n      }, this), this.state.targetVolTableData.length > 0 && /*#__PURE__*/_jsxDEV(Table, {\n        data: this.state.targetVolTableData,\n        column: this.state.columns,\n        type: \"Target Vol\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 21\n      }, this), this.state.targetReturnTableData.length > 0 && /*#__PURE__*/_jsxDEV(Table, {\n        data: this.state.targetReturnTableData,\n        column: this.state.columns,\n        type: \"Target Return\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"centre\",\n        children: \"We're almost at the end...just a few more questions...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default DisplayTable;","map":{"version":3,"sources":["/Users/waddy/Desktop/SMU/Internships/my-app/react-app/my-app/src/components/questions/displayTable.js"],"names":["React","axios","Table","DisplayTable","Component","constructor","props","componentDidMount","console","log","answer","fetchData","url","get","then","res","data","maxsharpedata","targetvoldata","targetreturndata","i","length","asset_name","asset_ticker","annualized_return","annualized_vol","Portfolio","push","setState","maxSharpeTableData","targetVolTableData","targetReturnTableData","catch","e","state","columns","heading","value","render"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\nimport Table from './Table.js';\r\n\r\nclass DisplayTable extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            answer: this.props.answer,\r\n            maxSharpeTableData: [],\r\n            targetVolTableData: [],\r\n            targetReturnTableData: [],\r\n            columns: [\r\n                { heading: 'ETF', value: 'asset_name' },\r\n                { heading: 'Annualized Return (%)', value: 'annualized_return' },\r\n                { heading: 'Annualized Volatility (%)', value: 'annualized_vol' },\r\n                { heading: 'Sharp Ratio', value: 'sharpe_ratio' },\r\n                { heading: 'Allocation (%)', value: 'allocation' },\r\n            ],\r\n        }\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        console.log(\"Inside Display Table :\", this.props.answer);\r\n        this.fetchData();\r\n    }\r\n    fetchData = async () => {\r\n        let url = 'http://127.0.0.1:8000/optimizer/?Q1=' + this.props.answer[0] + '&Q2=' + this.props.answer[1] + '&Q3=' + this.props.answer[2] + '&Q4=' + this.props.answer[3] + '&Q5=' + this.props.answer[4] + '&Q6=' + this.props.answer[5] + '&data_source=saved'\r\n        await axios.get(url)\r\n            .then((res) => {\r\n                console.log(res);\r\n                let data = res.data;\r\n                let maxsharpedata = [];\r\n                let targetvoldata = [];\r\n                let targetreturndata = [];\r\n                for (let i = 0; i < data.length; i++) {\r\n                    data[i].asset_name = data[i].asset_name+' ('+ data[i].asset_ticker +')';\r\n                    data[i].annualized_return = data[i].annualized_return*100;\r\n                    data[i].annualized_vol = data[i].annualized_vol*100;\r\n\r\n                    if (data[i].Portfolio === 'Max Sharpe') {\r\n                        maxsharpedata.push(data[i]);\r\n                    }\r\n                    else if (data[i].Portfolio === 'Target Vol') {\r\n                        targetvoldata.push(data[[i]]);\r\n                    }\r\n                    else {\r\n                        targetreturndata.push(data[i]);\r\n                    }\r\n                }\r\n                this.setState({\r\n                    maxSharpeTableData: maxsharpedata,\r\n                    targetVolTableData: targetvoldata,\r\n                    targetReturnTableData: targetreturndata,\r\n                });\r\n\r\n            }).catch((e) => {\r\n                console.log(e);\r\n            })\r\n    }\r\n    render() {\r\n\r\n        return (\r\n            <div>\r\n                <h1 className='centre'>Here's your final portfolio</h1>\r\n                <span>The following allocation best suits you!</span>\r\n                {this.state.maxSharpeTableData.length > 0 &&\r\n                    <Table\r\n                        data={this.state.maxSharpeTableData}\r\n                        column={this.state.columns}\r\n                        type='Max Sharpe' />\r\n                }\r\n                {this.state.targetVolTableData.length > 0 &&\r\n                    <Table\r\n                        data={this.state.targetVolTableData}\r\n                        column={this.state.columns}\r\n                        type='Target Vol' />\r\n                }\r\n                {this.state.targetReturnTableData.length > 0 &&\r\n                    <Table\r\n                        data={this.state.targetReturnTableData}\r\n                        column={this.state.columns}\r\n                        type='Target Return' />\r\n                }\r\n\r\n                <h2 className='centre'>We're almost at the end...just a few more questions...</h2>\r\n\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default DisplayTable;\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}